riot.tag("modal",'<div class="itoolkit-modal-dialog" riot-style="width:{width}; height:{height}"> <div class="itoolkit-modal-title"> <span>{ title }</span> <div class="itoolkit-modal-close-wrap" onclick="{ close }"> <div class="itoolkit-modal-close"></div> </div> </div> <div class="itoolkit-modal-container"> <yield> </div> </div>',function(o){{var t=this,e=t.opts.opts||t.opts;t.root}for(i in e)t[i]=e[i];t.width=e.width||600,t.height=e.height||"auto",t.on("mount",function(){var o=t.root.querySelector(".itoolkit-modal-container"),i=t.root.querySelector(".itoolkit-modal-title"),l=parseInt(window.getComputedStyle(i,null).height.replace("px",""));e.height&&(o.style.height=t.height-l-2+"px")}),this.close=function(o){t.root.style.display="none",t.onClose&&t.onClose()}.bind(this),document.querySelector("[modal-open-target='"+t.root.id+"']")&&(document.querySelector("[modal-open-target='"+t.root.id+"']").onclick=function(){t.root.style.display="block",t.onOpen&&t.onOpen()}),t.root.open=function(){t.root.style.display="block",t.onOpen&&t.onOpen()},t.root.close=function(){t.root.style.display="none",t.onClose&&t.onClose()},t.root.loadData=function(o,i){i=i||"data",t[i]=o,t.update()}});