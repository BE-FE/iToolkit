<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="http://apps.bdimg.com/libs/bootstrap/3.3.0/css/bootstrap.css">
    <link rel="stylesheet" href="../src/css/itoolkit.css">
    <link rel="stylesheet" href="../src/css/themes/simple_pc.css">
    <!-- IE兼容  -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.0.5/es5-shim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script>html5.addElements('test')</script>
    <![endif]-->
    <script src="../src/lib/riot.js"></script>
    <script src="../src/lib/common.js"></script>
    <script src="../src/iToolkit_pc.js"></script>
</head>
<body>

<itk-uploader></itk-uploader>

<script>

    var opt = {

        url: '/src/plugins/uploader/examples/basic_example/file_upload.php',
        name: 'uploadfile',
        multipart: true,
        responseType: 'json',

        startXHR: function () {

        },

        onSubmit: function () {

        },

        onComplete: function (filename, response) {

            console.log(response);

            if (!response) {
                console.log("上传文件失败!");
                return;
            }

            if (response.success === true) {
                console.log("上传文件成功!");

            } else {
                if (response.msg) {
                    alert(response.msg);

                } else {
                    console.log("发生未知错误!");
                }
            }
        },

        onError: function (filename, errorType, status, statusText, response, uploadBtn, fileSize) {
            console.log(filename);
            console.log(errorType);
            console.log(status);
            console.log(statusText);
            console.log(response);
            console.log(uploadBtn);
            console.log(fileSize);
        }

    };

    riot.mount('itk-uploader', opt);
</script>
</body>
</html>